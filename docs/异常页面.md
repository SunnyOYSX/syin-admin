## 概述

系统异常页面指 403, 404, 500 等状态时显示的页面

目前系统异常页面加载分为两种方式.

1. 访问时加载, 当没有找到对应页面时, 加载异常页面

2. 页面内手动触发显示, 如后端服务器返回500时, 显示500页面

## 访问时加载

> 当用户无权访问一个页面时, 动态生成的路由不会包含该页面, 所以页面存在但是无权访问的页面也属于不存在的页面

当用户访问不存在的页面时, 系统一样会加载布局组件(Layout)

```js
// src/libs/menu.js

new_routers['/404'] = {
	path: `/*`,
	name: 'miss_page',
	component: Layout,
};

```

在布局中, 系统会对路由中的name进行判断, 当 ```name == miss_page``` 时, 屏蔽相关页面加载显示异常组件

## 手动触发

```js
// 在任意vue方法中均可执行该方法, 第一个参数不可更改
// 第二个参数为页面name, 如需显示异常页面需传入以下之一 
// 403, 404, 500, miss_page
// 第三个参数为对象, 传入相关页面信息. 
// 当显示异常页面时, 可选传入 title (页面标题), msg (提示消息)
this.$event.emit('routeChange', 500, {title: '测试', 'msg': '测试数据'});
```

在调用方法时, 系统在布局组件(Layout)中, 会对传过来的数据进行判断, 当页面name为 03, 404, 500, miss_page 之一时, 屏蔽相关页面加载并显示异常组件

## 异常组件

当 ```name == miss_page``` 时, 异常组件会判断页面是否为无权限访问进行该组件, 如是因无权限则等同于 **403**, 否则等同于 **404**

异常组件根据计算之后的结果, 判断显示具体的页面, 具体异常页面位于 **src/views/error**, 并传入 **msg** 参数

具体异常页面也可直接访问